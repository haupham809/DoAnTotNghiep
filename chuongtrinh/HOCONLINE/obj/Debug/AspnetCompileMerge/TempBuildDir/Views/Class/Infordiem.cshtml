@{
    Layout = "~/Views/Shared/Layoutclass.cshtml";
    var baitracnhgiem = ViewData["baitracnghiem"] as List<HOCONLINE.Models.BaiTapTN>;
    var baituluan = ViewData["baituluan"] as List<HOCONLINE.Models.BaiTapTL>;
    var user = Session["user"] as HOCONLINE.Models.TaiKhoan;
    string nguoitao = user.TenDangNhap;
   var lop =  Session["lophoc"] as HOCONLINE.Models.LopHoc;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
    <style type="text/css">
        .heade{
            background-color: white;
            width: 100%;
            border-bottom: 3px solid black
        }
        table {
            margin-top: 30px;
            width: 100%;
        }
        .heade th {
            padding: 20px;
        }
        .cen th {
            padding: 20px;
        }
    </style>
</head>
<body style="margin:5px;margin-top:20px;" >
    @if (baitracnhgiem != null && baitracnhgiem.Count>0)
    {
        <h1>Bài trắc nghiệm</h1>
        <table style="margin-top:10px;width:100%">
            <thead>
                <tr class="heade" role="row">





                    <th>
                        <label></label>

                    <th>
                        <label>Tên</label>
                    </th>
                    <th>
                        <label>Ngày Nộp</label>
                    </th>
                    <th>
                        <label>Ngày kết thúc</label>
                    </th>
                    <th>
                        <label>Điểm</label>
                    </th>
                    <th>
                        <label>Trạng Thái</label>
                    </th>
                    <th>

                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var i in baitracnhgiem)
                {


                    <tr class="cen">





                        <th style="background-color:#E6E6E6;border:3px solid white">
                            <img src=@i.TaiKhoan.HinhAnh width="40" height="40" style="border-radius:5px;" />

                        </th>
                        <th style="background-color:#E6E6E6;border:3px solid white">
                            <label>@i.TaiKhoan.Ho  @i.TaiKhoan.Ten</label>

                        </th>
                        <th style="background-color:#E6E6E6;border:3px solid white">
                            @if (i.NgayNop != null)
                            {
                                <label>@i.NgayNop.Value.ToString(string.Format("HH:mm:ss dd/MM/yyyy"))</label>
                            }



                        </th>
                        <th style="background-color:#E6E6E6;border:3px solid white">
                            <label>@i.BaiTap.ThoiGianKetThuc.Value.ToString(string.Format("HH:mm:ss dd/MM/yyyy"))</label>

                        </th>
                        <th style="background-color:#E6E6E6;border:3px solid white">
                            <label>@i.Diem</label>
                        </th>
                        <th style="background-color:#E6E6E6;border:3px solid white">

                            @{
                                if (i.NgayNop == null)
                                {
                                    <label style="color:red">Chưa Nộp</label>
                                }
                                else if (i.NgayNop != null)
                                {
                                    if (i.BaiTap.ThoiGianKetThuc >= i.NgayNop)
                                    {
                                        <label>Đã nộp</label>
                                    }
                                    else if (i.BaiTap.ThoiGianKetThuc < i.NgayNop)
                                    {
                                        <label style="color:red">Nộp muộn</label>
                                    }
                                }
                            }

                        </th>
                        <th style="background-color:#E6E6E6;border:3px solid white">
                            <a href="~/Class/ShowInforTN/?ten=@i.NguoiNop&ma=@i.MaBaiNop" class="glyphicon glyphicon-edit"></a>
                        </th>

                    </tr>
                }
            </tbody>
        </table>
    }
    @if (baituluan != null && baituluan.Count > 0)
    {

        <h1>Bài tự luận</h1>
        <table style="margin-top:10px;width:100%">
            <thead>
                <tr class="heade" role="row">





                    <th>
                        <label></label>

                    <th >
                        <label>Tên</label>
                    </th>
                    <th >
                        <label>Ngày Nộp</label>
                    </th>
                    <th >
                        <label>Ngày kết thúc</label>
                    </th>
                    <th >
                        <label>Điểm</label>
                    </th>
                    <th>
                        <label>Trạng Thái</label>
                    </th>
                    <th >

                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var i in baituluan)
                {


                    <tr class="cen">





                        <th  style="background-color:#E6E6E6;border:3px solid white">
                            <img src=@i.TaiKhoan.HinhAnh width="40" height="40" style="border-radius:5px;" />

                        </th>
                        <th  style="background-color:#E6E6E6;border:3px solid white">
                            <label>@i.TaiKhoan.Ho  @i.TaiKhoan.Ten</label>

                        </th>
                        <th  style="background-color:#E6E6E6;border:3px solid white">
                            @if (i.NgayNop != null)
                            {
                                <label>@i.NgayNop.Value.ToString(string.Format("HH:mm:ss dd/MM/yyyy"))</label>
                            }



                        </th>
                        <th  style="background-color:#E6E6E6;border:3px solid white">
                            <label>@i.BaiTap.ThoiGianKetThuc.Value.ToString(string.Format("HH:mm:ss dd/MM/yyyy"))</label>

                        </th>
                        <th  style="background-color:#E6E6E6;border:3px solid white">
                            <label>@i.Diem</label>
                        </th>
                        <th  style="background-color:#E6E6E6;border:3px solid white">

                            @{
                                if (i.NgayNop == null)
                                {
                                    <label style="color:red">Chưa Nộp</label>
                                }
                                else if (i.NgayNop != null)
                                {
                                    if (i.BaiTap.ThoiGianKetThuc >= i.NgayNop)
                                    {
                                        <label>Đã nộp</label>
                                    }
                                    else if (i.BaiTap.ThoiGianKetThuc < i.NgayNop)
                                    {
                                        <label style="color:red">Nộp muộn</label>
                                    }
                                }
                            }

                        </th>
                        <th  style="background-color:#E6E6E6;border:3px solid white">
                            <a href="~/Class/ShowInforTL/?ten=@i.NguoiNop&ma=@i.MaBaiNop" class="glyphicon glyphicon-edit"></a>
                        </th>

                    </tr>
                }
            </tbody>
        </table>

    }

    @if(baituluan == null && baitracnhgiem == null)
            {


<div style="width:100%;height:100%;text-align:center">
    <img src="~/Content/image/Icon/empty_states_students.png" />
    <br />
    @{


        if (nguoitao.Equals(lop.NguoiTao))
        {
            <label style="font-size:20px">
                Lớp học của bạn không có bất kỳ bài tập nào.<br />
                Vui lòng thêm bài tập mới.
            </label>
        }
        else
        {
            <label  style="font-size:20px">
                Lớp học của bạn không có bất kỳ bài tập nào.
                
            </label>
        }

    }

</div>
            }
</body>
</html>
